(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5492:(e,s,t)=>{Promise.resolve().then(t.bind(t,3275))},3275:(e,s,t)=>{"use strict";t.d(s,{default:()=>M});var a=t(5155),r=t(2115),i=t(7364),l=t(7780),n=t(6764),o=t(5686),d=t(1466),c=t(8686),u=t(9053),m=t(5236),x=t(4081),h=t(7517),p=t(3473),g=t(6967),f=t(2317),j=t(652),v=t(3463),N=t(9795);function w(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,N.QP)((0,v.$)(s))}let y=(0,j.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:l=!1,...n}=e,o=l?f.DX:"button";return(0,a.jsx)(o,{className:w(y({variant:r,size:i,className:t})),ref:s,...n})});b.displayName="Button";let A=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:w("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});A.displayName="Input";var C=t(5333),k=t(1719),q=t(1902),R=t(8867);let S=C.bL;C.YJ;let E=C.WT,_=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(C.l9,{ref:s,className:w("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[r,(0,a.jsx)(C.In,{asChild:!0,children:(0,a.jsx)(k.A,{className:"h-4 w-4 opacity-50"})})]})});_.displayName=C.l9.displayName;let P=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.PP,{ref:s,className:w("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(q.A,{className:"h-4 w-4"})})});P.displayName=C.PP.displayName;let F=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.wn,{ref:s,className:w("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})});F.displayName=C.wn.displayName;let U=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...l}=e;return(0,a.jsx)(C.ZL,{children:(0,a.jsxs)(C.UC,{ref:s,className:w("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,a.jsx)(P,{}),(0,a.jsx)(C.LM,{className:w("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(F,{})]})})});U.displayName=C.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.JU,{ref:s,className:w("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=C.JU.displayName;let Q=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(C.q7,{ref:s,className:w("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(C.VF,{children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})}),(0,a.jsx)(C.p4,{children:r})]})});Q.displayName=C.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.wv,{ref:s,className:w("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=C.wv.displayName;var I=t(2651),z=t(1665);t(5716);let O="https://lnrs-exam-portal-backend.onrender.com/api",L=["mcqs","aptitude","ai","coding"],D=e=>{let{questions:s,onUpdateQuestion:t,onDeleteQuestion:d,onBack:c,section:u}=e,[m,x]=(0,r.useState)(null),h=s.filter(e=>e.section===u),p=e=>{x(e)},g=()=>{m&&(t(m),x(null))},f=()=>{x(null)};return(0,a.jsx)("div",{className:"fixed inset-0 bg-white z-50 overflow-auto p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold",children:[u.toUpperCase()," Questions"]}),(0,a.jsxs)(b,{onClick:c,variant:"outline",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Back to Sections"]})]}),h.length>0?(0,a.jsx)("div",{className:"space-y-8",children:h.map((e,s)=>{var t,r,i,c;return(0,a.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:m&&m._id===e._id?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(A,{value:m.text,onChange:e=>x({...m,text:e.target.value}),placeholder:"Question text"}),("mcqs"===u||"ai"===u||"aptitude"===u)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Options:"}),null===(t=m.options)||void 0===t?void 0:t.map((e,s)=>(0,a.jsx)(A,{value:e,onChange:e=>{let t=[...m.options||[]];t[s]=e.target.value,x({...m,options:t})},placeholder:"Option ".concat(s+1)},s)),(0,a.jsx)(A,{value:m.answer,onChange:e=>x({...m,answer:e.target.value}),placeholder:"Correct answer"})]}),"coding"===u&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Test Cases:"}),null===(r=m.testCases)||void 0===r?void 0:r.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(A,{value:e.input,onChange:e=>{let t=[...m.testCases||[]];t[s].input=e.target.value,x({...m,testCases:t})},placeholder:"Input"}),(0,a.jsx)(A,{value:e.output,onChange:e=>{let t=[...m.testCases||[]];t[s].output=e.target.value,x({...m,testCases:t})},placeholder:"Expected Output"})]},s))]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(b,{onClick:f,variant:"outline",children:"Cancel"}),(0,a.jsxs)(b,{onClick:g,children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Save"]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-medium text-gray-900",children:["Question ",s+1]}),(0,a.jsx)("p",{className:"text-lg mt-2",children:e.text})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(b,{onClick:()=>p(e),variant:"outline",size:"sm",children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}),(0,a.jsx)(b,{onClick:()=>d(e._id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]})]}),("mcqs"===u||"ai"===u||"aptitude"===u)&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Options:"}),(0,a.jsx)("ul",{className:"list-disc list-inside",children:null===(i=e.options)||void 0===i?void 0:i.map((e,s)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},s))}),(0,a.jsxs)("p",{className:"mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Correct answer:"})," ",e.answer]})]}),"coding"===u&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Test Cases:"}),(0,a.jsx)("div",{className:"space-y-2",children:null===(c=e.testCases)||void 0===c?void 0:c.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Input:"})," ",e.input]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Expected Output:"})," ",e.output]})]},s))})]})]})},"".concat(e._id,"-").concat(s))})}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"No questions available for this section."})})]})})},M=()=>{var e,s;let[t,i]=(0,r.useState)(!1),[l,f]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[y,C]=(0,r.useState)([]),[k,q]=(0,r.useState)(null),[R,P]=(0,r.useState)({section:"",text:"",options:["","","",""],answer:"",testCases:[{input:"",output:"",isHidden:!1}]}),[F,M]=(0,r.useState)([]),[T,B]=(0,r.useState)([]),[V,H]=(0,r.useState)(null),[J,W]=(0,r.useState)(null),[X,Y]=(0,r.useState)(!1),[Z,$]=(0,r.useState)({name:"",email:"",password:"",role:"user"}),[G,K]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("token");e&&(f(e),i(!0),I.A.defaults.headers.common.Authorization="Bearer ".concat(e))},[]),(0,r.useEffect)(()=>{t&&(ee(),es(),et())},[t]);let ee=async()=>{K(!0);try{let e=[],s=1,t=!0;for(;t;){let a=await I.A.get("".concat(O,"/questions"),{params:{page:s,limit:100}});if(a.data.success&&Array.isArray(a.data.data)){let r=a.data.data;e.push(...r),r.length<100?t=!1:s++}else t=!1}let a=e.filter((e,s,t)=>s===t.findIndex(s=>s._id===e._id));C(a),0===a.length&&z.oR.info("No questions found")}catch(s){var e;console.error("Error fetching questions:",s),I.A.isAxiosError(s)&&(null===(e=s.response)||void 0===e?void 0:e.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to fetch questions")}finally{K(!1)}},es=async()=>{try{let e=await I.A.get("".concat(O,"/admin/users"));M(e.data.users)}catch(s){var e;console.error("Error fetching users:",s),I.A.isAxiosError(s)&&(null===(e=s.response)||void 0===e?void 0:e.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to fetch users")}},et=async()=>{try{let e=await I.A.get("".concat(O,"/admin/exams"));B(e.data.exams)}catch(s){var e;console.error("Error fetching submissions:",s),I.A.isAxiosError(s)&&(null===(e=s.response)||void 0===e?void 0:e.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to fetch submissions")}},ea=async e=>{e.preventDefault(),Y(!0);try{let{token:e}=(await I.A.post("".concat(O,"/auth/login"),{email:j,password:N})).data;f(e),i(!0),localStorage.setItem("token",e),I.A.defaults.headers.common.Authorization="Bearer ".concat(e),z.oR.success("Successfully logged in"),await ee()}catch(e){console.error("Login error:",e),z.oR.error("Invalid credentials")}finally{Y(!1)}},er=()=>{i(!1),f(""),v(""),w(""),M([]),B([]),C([]),localStorage.removeItem("token"),delete I.A.defaults.headers.common.Authorization,z.oR.success("Logged out successfully")},ei=async()=>{var e,s,t;if(!R.text||""===R.text.trim()){z.oR.error("Question text is required");return}if("mcqs"===R.section||"ai"===R.section||"aptitude"===R.section){let s=null===(e=R.options)||void 0===e?void 0:e.filter(e=>""!==e.trim());if(!s||4!==s.length){z.oR.error("4 non-empty options are required for MCQs, AI, and Aptitude questions");return}if(!R.answer){z.oR.error("An answer is required for MCQs, AI, and Aptitude questions");return}}if("coding"===R.section&&(!R.testCases||0===R.testCases.length)){z.oR.error("At least one test case is required for coding questions");return}try{let e={...R};e.testCases&&(e.testCases=e.testCases.filter(e=>""!==e.input.trim()&&""!==e.output.trim())),"coding"===e.section&&(delete e.options,delete e.answer);let s=await I.A.post("".concat(O,"/questions/"),e);if(s.data.success)z.oR.success("Question added successfully"),ee(),P({section:"",text:"",options:["","","",""],answer:"",testCases:[{input:"",output:"",isHidden:!1}]});else throw Error(s.data.message||"Failed to add question")}catch(e){console.error("Error adding question:",e),I.A.isAxiosError(e)?(null===(s=e.response)||void 0===s?void 0:s.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to add question: ".concat((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Unknown error")):z.oR.error("Failed to add question: ".concat(e instanceof Error?e.message:"Unknown error"))}},el=async e=>{try{let s=await I.A.put("".concat(O,"/questions/").concat(e._id),e),t=y.map(t=>t._id===e._id?s.data.data:t);C(t),z.oR.success("Question updated successfully")}catch(e){var s;console.error("Error updating question:",e),I.A.isAxiosError(e)&&(null===(s=e.response)||void 0===s?void 0:s.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to update question")}},en=async e=>{if(window.confirm("Are you sure you want to delete this question?"))try{await I.A.delete("".concat(O,"/questions/").concat(e)),C(s=>s.filter(s=>s._id!==e)),z.oR.success("Question deleted successfully"),ee()}catch(e){var s;console.error("Error deleting question:",e),I.A.isAxiosError(e)&&(null===(s=e.response)||void 0===s?void 0:s.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to delete question")}},eo=async e=>{e.preventDefault();try{let e=await I.A.post("".concat(O,"/auth/register"),Z);M([...F,e.data]),$({name:"",email:"",password:"",role:"user"}),z.oR.success("User added successfully")}catch(e){var s;console.error("Error adding user:",e),I.A.isAxiosError(e)&&(null===(s=e.response)||void 0===s?void 0:s.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to add user")}},ed=async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await I.A.delete("".concat(O,"/admin/users/").concat(e)),M(F.filter(s=>s._id!==e)),z.oR.success("User deleted successfully")}catch(e){var s;console.error("Error deleting user:",e),I.A.isAxiosError(e)&&(null===(s=e.response)||void 0===s?void 0:s.status)===401?(z.oR.error("Session expired. Please log in again."),er()):z.oR.error("Failed to delete user")}},ec=e=>{H(e===V?null:e)},eu=e=>{W(e===J?null:e)};return t?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto bg-white/95 backdrop-blur-xl p-8 rounded-2xl shadow-2xl h-[calc(100vh-4rem)] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-br from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Admin Portal"}),(0,a.jsxs)(b,{onClick:er,variant:"outline",children:[(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{children:"Log Out"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)(b,{onClick:()=>ec("questions"),variant:"questions"===V?"default":"outline",className:"w-full",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Question Management"]}),(0,a.jsxs)(b,{onClick:()=>ec("users"),variant:"users"===V?"default":"outline",className:"w-full",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"User Management"]}),(0,a.jsxs)(b,{onClick:()=>ec("submissions"),variant:"submissions"===V?"default":"outline",className:"w-full",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Exam Submissions"]}),(0,a.jsxs)(b,{onClick:()=>ec("signup"),variant:"signup"===V?"default":"outline",className:"w-full",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Add New User"]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["questions"===V&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 h-full",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md h-full overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Question"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsxs)(S,{value:R.section,onValueChange:e=>P({...R,section:e}),children:[(0,a.jsx)(_,{children:(0,a.jsx)(E,{placeholder:"Select section"})}),(0,a.jsx)(U,{children:L.map(e=>(0,a.jsx)(Q,{value:e,children:e.toUpperCase()},e))})]})}),(0,a.jsx)(A,{value:R.text,onChange:e=>P({...R,text:e.target.value}),placeholder:"Question text",required:!0}),("mcqs"===R.section||"ai"===R.section||"aptitude"===R.section)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:null===(e=R.options)||void 0===e?void 0:e.map((e,s)=>(0,a.jsx)(A,{value:e,onChange:e=>{let t=[...R.options||[]];t[s]=e.target.value,P({...R,options:t})},placeholder:"Option ".concat(s+1)},s))}),(0,a.jsx)(A,{value:R.answer,onChange:e=>P({...R,answer:e.target.value}),placeholder:"Correct answer"})]}),"coding"===R.section&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Test Cases"}),null===(s=R.testCases)||void 0===s?void 0:s.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Input"}),(0,a.jsx)(A,{value:e.input,onChange:e=>{let t=[...R.testCases||[]];t[s].input=e.target.value,P({...R,testCases:t})},placeholder:"Input"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Expected Output"}),(0,a.jsx)(A,{value:e.output,onChange:e=>{let t=[...R.testCases||[]];t[s].output=e.target.value,P({...R,testCases:t})},placeholder:"Output"})]})]},s)),(0,a.jsxs)(b,{onClick:()=>P({...R,testCases:[...R.testCases||[],{input:"",output:"",isHidden:!1}]}),variant:"outline",size:"sm",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Test Case"]})]})})]}),(0,a.jsxs)(b,{onClick:ei,className:"mt-6",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Question"]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md h-full overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Existing Questions"}),G?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):J?(0,a.jsx)(D,{questions:y,onUpdateQuestion:el,onDeleteQuestion:en,onBack:()=>W(null),section:J}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:L.map((e,s)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>eu(e),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.toUpperCase()}),(0,a.jsx)(g.A,{className:"h-5 w-5 text-gray-400"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:G?"Loading...":"".concat(y.filter(s=>s.section===e).length," questions")})]},"section-".concat(e,"-").concat(s)))})]})]}),"users"===V&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"User Management"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e._id})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.email})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green800",children:e.role})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(b,{onClick:()=>ed(e._id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})})]},"user-".concat(e._id,"-").concat(s)))})]})})]}),"submissions"===V&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Exam Submissions"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full dividey divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user.email})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.score,"%"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.startTime).toLocaleDateString()})]},"submission-".concat(e._id,"-").concat(s)))})]})})]}),"signup"===V&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Add New User"}),(0,a.jsxs)("form",{onSubmit:eo,className:"max-w-md space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)(A,{id:"name",value:Z.name,onChange:e=>$({...Z,name:e.target.value}),placeholder:"Enter name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"newEmail",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)(A,{id:"newEmail",type:"email",value:Z.email,onChange:e=>$({...Z,email:e.target.value}),placeholder:"Enter email",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)(A,{id:"newPassword",type:"password",value:Z.password,onChange:e=>$({...Z,password:e.target.value}),placeholder:"Enter password",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,a.jsxs)(S,{value:Z.role,onValueChange:e=>$({...Z,role:e}),children:[(0,a.jsx)(_,{children:(0,a.jsx)(E,{placeholder:"Select role"})}),(0,a.jsxs)(U,{children:[(0,a.jsx)(Q,{value:"user",children:"User"}),(0,a.jsx)(Q,{value:"admin",children:"Admin"})]})]})]}),(0,a.jsxs)(b,{type:"submit",className:"w-full",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Add User"]})]})]})]}),(0,a.jsx)(z.N9,{position:"top-center",autoClose:3e3,style:{zIndex:9999}})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-4",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,a.jsx)("div",{className:"absolute -top-8 -left-8 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-8 -right-8 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),(0,a.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl p-8 rounded-2xl shadow-2xl transform transition-all duration-300 hover:scale-[1.02]",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(d.A,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-br from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"LNRS Admin Portal"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to manage questions and users"})]}),(0,a.jsxs)("form",{onSubmit:ea,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(A,{type:"email",id:"email",value:j,onChange:e=>v(e.target.value),className:"pl-10",placeholder:"admin@example.com",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(A,{type:"password",id:"password",value:N,onChange:e=>w(e.target.value),className:"pl-10",placeholder:"Enter your password",required:!0})]})]}),(0,a.jsx)(b,{type:"submit",className:"w-full",disabled:X,children:X?"Signing in...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Sign In"}),(0,a.jsx)(u.A,{className:"ml-2 h-5 w-5"})]})})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[797,496,441,517,358],()=>s(5492)),_N_E=e.O()}]);